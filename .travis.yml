---

sudo: required

os:
  - linux
  - osx

osx_image: xcode8.3

services:
  - docker

env:
  matrix:
    - TOXENV=py27,ansible1,py34 DOCKER=true
    - TOXENV=flake8
    - TOXENV=pylint
    - TOXENV=sphinxdoc

language: python

python: 2.7

before_install:
  - if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then sudo apt-get update -qq && sudo apt-get install -y -o Dpkg::Options::="--force-confnew" docker-engine; docker version; fi
  - if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew install python; fi

install:
  - pip install tox

script:
  - tox -e $TOXENV
